@model Prueba5.Models.IngresarInformacion

@{
    ViewBag.Title = "Results";
}

<script src="@Url.Content("~/Scripts/jquery.unobtrusive-ajax.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.js")" type="text/javascript"></script>

<h2>Resultados</h2>
@if (Model.ResultadoBusqueda != null)
{
    <p>Información de búsqueda para:<br /> Paradero:<b>@Model.ParaderoIngresado.codigo </b><br /> Recorrido:<b>@Model.RecorridoIngresado.numero </b></p>
    <table class="table">
    <thead>
        <tr>
            <th>
                Recorrido
            </th>
            <th>
                Lo que está pasando...
            </th>
            <th>
                Estado
            </th>
            <th>
                Hace aproximadamente...
            </th>
            <th>
                Publicado por
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var q in Model.ResultadoBusqueda)
        {
            <tr>
                <td><strong>@q.Recorrido</strong></td>
                <td>@q.ObtenerLejania()</td>
                <td>@q.NombreEstado</td>
                <td>@q.Time()</td>
                <td>@q.Username</td>
                <td>
                    @using (Html.BeginForm())
                    {
                        @Html.ActionLink("Comentar", "view", "Comment",
                             new { Recorrido = q.Recorrido, Lejania = q.Lejania, NombreEstado = q.NombreEstado, Fecha = q.Fecha, Username = q.Username, Cuenta_ID = q.Cuenta_ID, Informacion_ID = q.Informacion_ID }, null);
                    }
                </td>
            </tr>
        }
    </tbody>
    </table>
}
else if (Model.Paraderos != null)
{
    <div class="mensaje">No se especificó un paradero.</div>
    <p>Lista ordenada de los paraderos por los que transita el recorrido  <b>@Model.RecorridoIngresado.numero</b></p>
    <fieldset>
    <table>
    <tr><th>Listado de Paraderos</th></tr>
    @foreach (var m in Model.Paraderos)
    { 
        <tr><td>@Html.ActionLink(m.codigo, Model.RecorridoIngresado.numero + " " + m.codigo, "Busqueda")</td></tr>
    }
    </table>
    </fieldset>
}
else if (Model.Recorridos != null)
{
    <div class="mensaje">No se especificó un recorrido.</div>
    <p>Recorridos que pasan por <b>@Model.ParaderoIngresado.codigo</b></p>
    foreach (var m in Model.Recorridos)
    { 
        <br />
        @Html.ActionLink(m.numero, Model.ParaderoIngresado.codigo + " " + m.numero, "Busqueda")
    }
}
else
{
    using (Html.BeginForm())
    {
    @Html.ValidationSummary(true, "No se pudo ingresar la información")
    <fieldset>
        <legend>IngresarInformacion</legend>

        <div class="editor-label">
            @Html.LabelFor(model => model.ParaderoRecorrido)
        </div>
        <div class="editor-field">
            @Html.EditorFor(model => model.ParaderoRecorrido)
            @Html.ValidationMessageFor(model => model.ParaderoRecorrido)
        </div>

        <table border="0" width="205">
            <tr>
                <td align="center"><button name="button" value="Ingresar">Ingresar</button></td>
                <td align="center"><button name="button" value="Buscar">Buscar</button></td>
            </tr>
        </table>
        
    </fieldset>
    }
     <table width="100%">
     <tr valign="top">
        <td>
            <p>
            <br />Ejemplos de búsqueda
            <ul>
            <li>PARADERO RECORRIDO </li> <i>ej: P100 428</i>
            <li>PARADERO</li> <i>ej: P100</i>
            <li>RECORRIDO</li> <i>ej: 428</i>
            </ul>
            </p>
        </td>
        <td>
            <p>
            <br />Ejemplos de ingreso
            <ul>
            <li>PARADERO RECORRIDO </li> <i>ej: P100 428</i>
            <li>PARADERO RECORRIDO ESTADO</li> <i>ej: P100 428 LL</i>
            <li>Estados Posibles:</li> 
            <ul>
            <li>LL: <i>Lleno</i></li>
            <li>V: <i>Vacio</i></li>
            <li>PR: <i>Con Problemas</i></li>
            <li>PA: <i>En Panne</i></li>
            <li>D: <i>Detenido</i></li>
            </ul>
            </ul>
            </p>
        </td>
        </tr></table>
}